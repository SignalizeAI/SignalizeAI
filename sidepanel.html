<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SignalizeAI Auth</title>
    <link rel="stylesheet" href="sidepanel.css" />
  </head>
  <body>
    <div class="container">
      <div id="login-view">
        <div class="login-header">
          <h1>SignalizeAI</h1>
          <p>Please sign in to access your extension features.</p>
        </div>

        <button id="google-signin">
          <img src="icons/google.svg" alt="Google" class="google-icon" />
          Sign in with Google
        </button>

        <p id="status-msg"></p>
      </div>

      <div id="welcome-view" class="hidden">
        <div class="dropdown-card">
          <div class="dropdown-header" id="dropdown-header">
            <div class="user-details">
              <span id="user-name" class="user-name-text">Loading...</span>
              <span id="user-email" class="user-email-text"
                >user@signalize.ai</span
              >
            </div>
            <div style="display: flex; align-items: center; gap: 12px">
              <div id="user-initial" class="user-avatar-placeholder">U</div>
              <img
                id="dropdown-chevron"
                src="icons/chevron-down.svg"
                alt=""
                class="dropdown-chevron"
              />
            </div>
          </div>

          <div class="dropdown-content" id="dropdown-content">
            <ul class="menu-list">
              <li>
                <a href="#" class="menu-item active">
                  <img src="icons/profile.svg" alt="" class="menu-icon" />
                  Profile
                </a>
              </li>
              <li>
                <a href="#" class="menu-item">
                  <img src="icons/community.svg" alt="" class="menu-icon" />
                  Community
                  <span class="badge badge-plus">+</span>
                </a>
              </li>
              <li>
                <a href="#" class="menu-item">
                  <img src="icons/subscription.svg" alt="" class="menu-icon" />
                  Subscription
                  <span class="badge badge-pro">PRO</span>
                </a>
              </li>
              <li>
                <a href="#" class="menu-item">
                  <img src="icons/settings.svg" alt="" class="menu-icon" />
                  Settings
                </a>
              </li>
            </ul>

            <div class="menu-divider"></div>

            <ul class="menu-list">
              <li>
                <a href="#" class="menu-item">
                  <img src="icons/help.svg" alt="" class="menu-icon" />
                  Help center
                </a>
              </li>
              <li>
                <button id="sign-out" class="menu-item link-button">
                  <img src="icons/sign-out.svg" alt="" class="menu-icon" />
                  Sign out
                </button>
              </li>
            </ul>
          </div>
        </div>

        <!-- Website Content Display -->
        <div id="website-content" class="website-content-card hidden">
          <div class="content-header">
            <h3 class="content-title">Website Content</h3>
          </div>

          <div id="content-loading" class="content-loading hidden">
            <p>Extracting content...</p>
          </div>

          <div id="content-error" class="content-error hidden">
            <p>Unable to extract content from this page.</p>
          </div>

          <div id="content-data" class="content-data hidden">
            <div class="content-section">
              <h4 class="section-label">Title</h4>
              <p id="content-title-text" class="content-text">-</p>
            </div>

            <div class="content-section" id="meta-description-section">
              <h4 class="section-label">Description</h4>
              <p id="content-meta-description" class="content-text">-</p>
            </div>

            <div class="content-section" id="headings-section">
              <h4 class="section-label">Headings</h4>
              <ul id="content-headings" class="content-list"></ul>
            </div>

            <div class="content-section" id="paragraphs-section">
              <h4 class="section-label">Key Content</h4>
              <ul id="content-paragraphs" class="content-list"></ul>
            </div>

            <div class="content-section">
              <h4 class="section-label">URL</h4>
              <a id="content-url" href="#" target="_blank" class="content-url"
                >-</a
              >
            </div>
          </div>
        </div>

        <!-- AI Business Analysis -->
        <div id="ai-analysis" class="website-content-card hidden">
          <div class="content-header">
            <h3 class="content-title">AI Business Signals</h3>
            <button class="save-btn" id="saveButton">
                <svg viewBox="0 0 24 24" class="save-icon">
                  <path
                    d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"
                  ></path>
                </svg>
            </button>
          </div>

          <div id="ai-loading" class="content-loading hidden">
            <p>Analyzing business signals…</p>
          </div>

          <div id="ai-data" class="content-data hidden">
            <div class="content-section">
              <h4 class="section-label">Sales readiness</h4>
              <p id="ai-sales-score" class="content-text">—</p>
            </div>

            <div class="content-section">
              <h4 class="section-label">What they do</h4>
              <p id="ai-what-they-do" class="content-text">—</p>
            </div>

            <div class="content-section">
              <h4 class="section-label">Target customer</h4>
              <p id="ai-target-customer" class="content-text">—</p>
            </div>

            <div class="content-section">
              <h4 class="section-label">Value proposition</h4>
              <p id="ai-value-prop" class="content-text">—</p>
            </div>

            <div class="content-section">
              <h4 class="section-label">Sales angle</h4>
              <p id="ai-sales-angle" class="content-text">—</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="extension/supabase.bundle.js"></script>
    <script type="module" src="sidepanel.js"></script>
  </body>
</html>
